<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1020px" preserveAspectRatio="none" style="width:1008px;height:1020px;" version="1.1" viewBox="0 0 1008 1020" width="1008px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xcxs2d107oof" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster butterfly--><polygon fill="#DDDDDD" filter="url(#f1xcxs2d107oof)" points="22,24,96,24,103,46.2969,986,46.2969,986,1008,22,1008,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="103" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="26" y="38.9951">butterfly</text><!--class Socket--><rect fill="#FEFECE" filter="url(#f1xcxs2d107oof)" height="265.6797" id="Socket" style="stroke: #A80036; stroke-width: 1.5;" width="356" x="611" y="59"/><ellipse cx="763.25" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M766.2188,80.6406 Q765.6406,80.9375 765,81.0781 Q764.3594,81.2344 763.6563,81.2344 Q761.1563,81.2344 759.8281,79.5938 Q758.5156,77.9375 758.5156,74.8125 Q758.5156,71.6875 759.8281,70.0313 Q761.1563,68.375 763.6563,68.375 Q764.3594,68.375 765,68.5313 Q765.6563,68.6875 766.2188,68.9844 L766.2188,71.7031 Q765.5938,71.125 765,70.8594 Q764.4063,70.5781 763.7813,70.5781 Q762.4375,70.5781 761.75,71.6563 Q761.0625,72.7188 761.0625,74.8125 Q761.0625,76.9063 761.75,77.9844 Q762.4375,79.0469 763.7813,79.0469 Q764.4063,79.0469 765,78.7813 Q765.5938,78.5 766.2188,77.9219 L766.2188,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="783.75" y="79.1543">Socket</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="612" x2="966" y1="91" y2="91"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="619" y="99.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="631" y="105.2104">_socketDomain, _socketType, _socketProtocol: int</text><polygon fill="none" points="622,110.707,626,114.707,622,118.707,618,114.707" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="631" y="118.0151">_fd: int</text><polygon fill="none" points="622,123.5117,626,127.5117,622,131.5117,618,127.5117" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="631" y="130.8198">_addr: sockaddr_in</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="612" x2="966" y1="137.4141" y2="137.4141"/><ellipse cx="622" cy="149.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="631" y="151.6245">Socket(int domain, int type, int protocol)</text><ellipse cx="622" cy="162.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="330" x="631" y="164.4292">Socket(int fileDescriptor, int domain, int type, int protocol)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="635" y="177.2339"/><ellipse cx="622" cy="187.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="631" y="190.0386">getFileDescriptor() const: int</text><ellipse cx="622" cy="200.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="631" y="202.8433">shutdown() const: bool</text><ellipse cx="622" cy="213.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="631" y="215.6479">setOptions() const: bool</text><ellipse cx="622" cy="226.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="631" y="228.4526">setBlocking() const: bool</text><ellipse cx="622" cy="238.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="631" y="241.2573">setNonBlocking() const: bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="635" y="254.062"/><ellipse cx="622" cy="264.5586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="631" y="266.8667">bind(unsigned int port): bool</text><ellipse cx="622" cy="277.3633" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="631" y="279.6714">listen() const: bool</text><ellipse cx="622" cy="290.168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="631" y="292.4761">accept(): std::shared_ptr&lt;Socket&gt;</text><ellipse cx="622" cy="302.9727" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="301" x="631" y="305.2808">connect(const std::string&amp; host, const int port): bool</text><ellipse cx="622" cy="315.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="631" y="318.0854">disconnect() const: bool</text><!--class TCPSocket--><rect fill="#FEFECE" filter="url(#f1xcxs2d107oof)" height="137.6328" id="TCPSocket" style="stroke: #A80036; stroke-width: 1.5;" width="247" x="665.5" y="386"/><ellipse cx="751.75" cy="402" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M754.7188,407.6406 Q754.1406,407.9375 753.5,408.0781 Q752.8594,408.2344 752.1563,408.2344 Q749.6563,408.2344 748.3281,406.5938 Q747.0156,404.9375 747.0156,401.8125 Q747.0156,398.6875 748.3281,397.0313 Q749.6563,395.375 752.1563,395.375 Q752.8594,395.375 753.5,395.5313 Q754.1563,395.6875 754.7188,395.9844 L754.7188,398.7031 Q754.0938,398.125 753.5,397.8594 Q752.9063,397.5781 752.2813,397.5781 Q750.9375,397.5781 750.25,398.6563 Q749.5625,399.7188 749.5625,401.8125 Q749.5625,403.9063 750.25,404.9844 Q750.9375,406.0469 752.2813,406.0469 Q752.9063,406.0469 753.5,405.7813 Q754.0938,405.5 754.7188,404.9219 L754.7188,407.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="772.25" y="406.1543">TCPSocket</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="666.5" x2="911.5" y1="418" y2="418"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="666.5" x2="911.5" y1="426" y2="426"/><ellipse cx="676.5" cy="437.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="685.5" y="440.2104">TCPSocket()</text><ellipse cx="676.5" cy="450.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="685.5" y="453.0151">TCPSocket(int fileDescriptor)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="689.5" y="465.8198"/><ellipse cx="676.5" cy="476.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="685.5" y="478.6245">accept(): std::shared_ptr&lt;TCPSocket&gt;</text><ellipse cx="676.5" cy="489.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="685.5" y="491.4292">send(const std::string&amp; s) const: bool</text><ellipse cx="676.5" cy="501.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="685.5" y="504.2339">recv(char *buf,int len) const: int</text><ellipse cx="676.5" cy="514.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="685.5" y="517.0386">recvAll(int chunkSize) const: std::string</text><!--class HTTPServer--><rect fill="#FEFECE" filter="url(#f1xcxs2d107oof)" height="227.2656" id="HTTPServer" style="stroke: #A80036; stroke-width: 1.5;" width="363" x="607.5" y="614"/><ellipse cx="749.25" cy="630" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M752.2188,635.6406 Q751.6406,635.9375 751,636.0781 Q750.3594,636.2344 749.6563,636.2344 Q747.1563,636.2344 745.8281,634.5938 Q744.5156,632.9375 744.5156,629.8125 Q744.5156,626.6875 745.8281,625.0313 Q747.1563,623.375 749.6563,623.375 Q750.3594,623.375 751,623.5313 Q751.6563,623.6875 752.2188,623.9844 L752.2188,626.7031 Q751.5938,626.125 751,625.8594 Q750.4063,625.5781 749.7813,625.5781 Q748.4375,625.5781 747.75,626.6563 Q747.0625,627.7188 747.0625,629.8125 Q747.0625,631.9063 747.75,632.9844 Q748.4375,634.0469 749.7813,634.0469 Q750.4063,634.0469 751,633.7813 Q751.5938,633.5 752.2188,632.9219 L752.2188,635.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="769.75" y="634.1543">HTTPServer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="608.5" x2="969.5" y1="646" y2="646"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="654.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="627.5" y="660.2104">_port: unsigned int port</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="667.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="627.5" y="673.0151">_running: bool</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="680.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="337" x="627.5" y="685.8198">_TCPSocket, _newTCPSocket: std::shared_ptr&lt;TCPSocket&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="693.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="627.5" y="698.6245">_httpRequest: std::unique_ptr&lt;HTTPRequest&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="608.5" x2="969.5" y1="705.2188" y2="705.2188"/><ellipse cx="618.5" cy="717.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="627.5" y="719.4292">HTTPServer(unsigned int port)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="631.5" y="732.2339"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="739.7305"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="627.5" y="745.0386">handleRequest():</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="752.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="627.5" y="757.8433">recvRequest():</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="765.3398"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="627.5" y="770.6479">processRequest():</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="778.1445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="627.5" y="783.4526">preprareResponse():</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="615.5" y="790.9492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="627.5" y="796.2573">sendResponse():</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="631.5" y="809.062"/><ellipse cx="618.5" cy="819.5586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="627.5" y="821.8667">run(): void</text><ellipse cx="618.5" cy="832.3633" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="627.5" y="834.6714">stop(): void</text><!--class HTTPSchema--><rect fill="#FEFECE" filter="url(#f1xcxs2d107oof)" height="252.875" id="HTTPSchema" style="stroke: #A80036; stroke-width: 1.5;" width="534" x="38" y="601"/><ellipse cx="260.25" cy="617" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M263.2188,622.6406 Q262.6406,622.9375 262,623.0781 Q261.3594,623.2344 260.6563,623.2344 Q258.1563,623.2344 256.8281,621.5938 Q255.5156,619.9375 255.5156,616.8125 Q255.5156,613.6875 256.8281,612.0313 Q258.1563,610.375 260.6563,610.375 Q261.3594,610.375 262,610.5313 Q262.6563,610.6875 263.2188,610.9844 L263.2188,613.7031 Q262.5938,613.125 262,612.8594 Q261.4063,612.5781 260.7813,612.5781 Q259.4375,612.5781 258.75,613.6563 Q258.0625,614.7188 258.0625,616.8125 Q258.0625,618.9063 258.75,619.9844 Q259.4375,621.0469 260.7813,621.0469 Q261.4063,621.0469 262,620.7813 Q262.5938,620.5 263.2188,619.9219 L263.2188,622.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="280.75" y="621.1543">HTTPSchema</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="571" y1="633" y2="633"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="641.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="58" y="647.2104">_data, _body: std::string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="654.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="58" y="660.0151">_httpMethod: Method</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="667.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="58" y="672.8198">_protocol: Protocol</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="680.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="58" y="685.6245">_httpHeaders: std::vector&lt; std::pair&lt;std::string, std::string&gt; &gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="571" y1="692.2188" y2="692.2188"/><ellipse cx="49" cy="704.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="58" y="706.4292">HTTPSchema()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="62" y="719.2339"/><ellipse cx="49" cy="729.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="58" y="732.0386">addData(const std::string &amp;data): void</text><ellipse cx="49" cy="742.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="58" y="744.8433">getData() const: std::string</text><ellipse cx="49" cy="755.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="58" y="757.6479">setProtocol(Protocol protocol): void</text><ellipse cx="49" cy="768.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="58" y="770.4526">getProtocol() const: Protocol</text><ellipse cx="49" cy="780.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="58" y="783.2573">addBody(const std::string &amp;body)</text><ellipse cx="49" cy="793.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="58" y="796.062">getBody() const: std::string</text><ellipse cx="49" cy="806.5586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="508" x="58" y="808.8667">setHTTPHeader(const std::string &amp;headerName, const std::string &amp;headerContent): void</text><ellipse cx="49" cy="819.3633" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="379" x="58" y="821.6714">getHTTPHeader(const std::string &amp;headerName) const: std::string</text><ellipse cx="49" cy="832.168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="58" y="834.4761">parse() = 0: int</text><ellipse cx="49" cy="844.9727" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="58" y="847.2808">prepare() = 0: void</text><!--class HTTPRequest--><rect fill="#FEFECE" filter="url(#f1xcxs2d107oof)" height="60.8047" id="HTTPRequest" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="345.5" y="931"/><ellipse cx="360.5" cy="947" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M363.4688,952.6406 Q362.8906,952.9375 362.25,953.0781 Q361.6094,953.2344 360.9063,953.2344 Q358.4063,953.2344 357.0781,951.5938 Q355.7656,949.9375 355.7656,946.8125 Q355.7656,943.6875 357.0781,942.0313 Q358.4063,940.375 360.9063,940.375 Q361.6094,940.375 362.25,940.5313 Q362.9063,940.6875 363.4688,940.9844 L363.4688,943.7031 Q362.8438,943.125 362.25,942.8594 Q361.6563,942.5781 361.0313,942.5781 Q359.6875,942.5781 359,943.6563 Q358.3125,944.7188 358.3125,946.8125 Q358.3125,948.9063 359,949.9844 Q359.6875,951.0469 361.0313,951.0469 Q361.6563,951.0469 362.25,950.7813 Q362.8438,950.5 363.4688,949.9219 L363.4688,952.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="374.5" y="951.1543">HTTPRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="346.5" x2="459.5" y1="963" y2="963"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="346.5" x2="459.5" y1="971" y2="971"/><ellipse cx="356.5" cy="982.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="365.5" y="985.2104">HTTPRequest()</text><!--class HTTPResponse--><rect fill="#FEFECE" filter="url(#f1xcxs2d107oof)" height="60.8047" id="HTTPResponse" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="628.5" y="931"/><ellipse cx="643.5" cy="947" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M646.4688,952.6406 Q645.8906,952.9375 645.25,953.0781 Q644.6094,953.2344 643.9063,953.2344 Q641.4063,953.2344 640.0781,951.5938 Q638.7656,949.9375 638.7656,946.8125 Q638.7656,943.6875 640.0781,942.0313 Q641.4063,940.375 643.9063,940.375 Q644.6094,940.375 645.25,940.5313 Q645.9063,940.6875 646.4688,940.9844 L646.4688,943.7031 Q645.8438,943.125 645.25,942.8594 Q644.6563,942.5781 644.0313,942.5781 Q642.6875,942.5781 642,943.6563 Q641.3125,944.7188 641.3125,946.8125 Q641.3125,948.9063 642,949.9844 Q642.6875,951.0469 644.0313,951.0469 Q644.6563,951.0469 645.25,950.7813 Q645.8438,950.5 646.4688,949.9219 L646.4688,952.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="657.5" y="951.1543">HTTPResponse</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="629.5" x2="752.5" y1="963" y2="963"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="629.5" x2="752.5" y1="971" y2="971"/><ellipse cx="639.5" cy="982.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="648.5" y="985.2104">HTTPResponse()</text><!--link Socket to TCPSocket--><path d="M789,345.11 C789,359.2 789,372.95 789,385.67 " fill="none" id="Socket-TCPSocket" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="782,345.03,789,325.03,796,345.03,782,345.03" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TCPSocket to HTTPServer--><path d="M789,537.32 C789,561.37 789,588.14 789,613.8 " fill="none" id="TCPSocket-HTTPServer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="789,524.26,785,530.26,789,536.26,793,530.26,789,524.26" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="790" y="567.0669">«uses»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="764.9039" y="543.6669">1..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="780.7438" y="603.0983">1</text><!--link HTTPServer to HTTPRequest--><path d="M611.32,841.11 C604.13,845.49 597.01,849.8 590,854 C549.81,878.1 504.11,904.15 467.95,924.45 " fill="none" id="HTTPServer-HTTPRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="456.57,930.83,463.7596,931.3859,467.038,924.9631,459.8484,924.4072,456.57,930.83" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="534" y="897.0669">«processes»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="591.6811" y="860.9312">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="442.2469" y="920.0582">1..*</text><!--link HTTPServer to HTTPResponse--><path d="M741.44,841.1 C729.78,868.7 718.01,896.56 708.78,918.42 " fill="none" id="HTTPServer-HTTPResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="703.65,930.55,709.6695,926.5795,708.3197,919.4958,702.3001,923.4664,703.65,930.55" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="723" y="897.0669">«sends»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="729.9758" y="861.2988">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="680.8872" y="919.7204">1..*</text><!--link HTTPSchema to HTTPRequest--><path d="M365.93,872.74 C375.21,894.72 383.89,915.26 390.51,930.94 " fill="none" id="HTTPSchema-HTTPRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="359.35,875.15,358.02,854.01,372.25,869.71,359.35,875.15" style="stroke: #A80036; stroke-width: 1.0;"/><!--link HTTPSchema to HTTPResponse--><path d="M451.79,866.22 C469.04,878.98 486.95,890.89 505,901 C543.45,922.54 590.82,937.55 628.12,947.1 " fill="none" id="HTTPSchema-HTTPResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="447.47,871.72,435.82,854.03,455.96,860.6,447.47,871.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
package butterfly #DDDDDD
{

class Socket
{
    - _socketDomain, _socketType, _socketProtocol: int
    # _fd: int
    # _addr: sockaddr_in

    + Socket(int domain, int type, int protocol)
    + Socket(int fileDescriptor, int domain, int type, int protocol)

    + getFileDescriptor() const: int
    + shutdown() const: bool
    + setOptions() const: bool
    + setBlocking() const: bool
    + setNonBlocking() const: bool

    + bind(unsigned int port): bool
    + listen() const: bool
    + accept(): std::shared_ptr<Socket>
    + connect(const std::string& host, const int port): bool
    + disconnect() const: bool
}

class TCPSocket
{

    + TCPSocket()
    + TCPSocket(int fileDescriptor)

    + accept(): std::shared_ptr<TCPSocket>
    + send(const std::string& s) const: bool
    + recv(char *buf,int len) const: int
    + recvAll(int chunkSize) const: std::string
}


class HTTPServer
{
    - _port: unsigned int port
    - _running: bool
    - _TCPSocket, _newTCPSocket: std::shared_ptr<TCPSocket>
    - _httpRequest: std::unique_ptr<HTTPRequest>

    + HTTPServer(unsigned int port)

    - handleRequest():
    - recvRequest():
    - processRequest():
    - preprareResponse():
    - sendResponse():

    +run(): void
    +stop(): void
}

class HTTPSchema
{
    - _data, _body: std::string
    - _httpMethod: Method
    - _protocol: Protocol
    - _httpHeaders: std::vector< std::pair<std::string, std::string> >

    + HTTPSchema()

    + addData(const std::string &data): void
    + getData() const: std::string
    + setProtocol(Protocol protocol): void
    + getProtocol() const: Protocol
    + addBody(const std::string &body)
    + getBody() const: std::string
    + setHTTPHeader(const std::string &headerName, const std::string &headerContent): void
    + getHTTPHeader(const std::string &headerName) const: std::string
    + parse() = 0: int
    + prepare() = 0: void
}

class HTTPRequest
{

    +HTTPRequest()
}

class HTTPResponse
{

    +HTTPResponse()
}

Socket            <|- - TCPSocket
TCPSocket "1..*"  o- -  "1" HTTPServer : <<uses>>

HTTPServer "1"    - -* "1..*" HTTPRequest: <<processes>>
HTTPServer "1"    - -* "1..*" HTTPResponse: <<sends>>

HTTPSchema <|- - HTTPRequest
HTTPSchema <|- - HTTPResponse

}
@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.11+9-Ubuntu-0ubuntu2.20.04
Operating System: Linux
OS Version: 5.11.0-38-generic
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>